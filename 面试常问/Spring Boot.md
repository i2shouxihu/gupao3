![image-20220308221232920](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220308221232920.png)![image-20220308224309965](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220308224309965.png)

![image-20220308221310578](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220308221310578.png)

![image-20220308224135084](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220308224135084.png)

![image-20220308224813727](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220308224813727.png)

![image-20220308224921913](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220308224921913.png)

![image-20220308225007162](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220308225007162.png)

![image-20220308225350077](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220308225350077.png)

![image-20220308225406526](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220308225406526.png)

![image-20220308235744121](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220308235744121.png)

![image-20220309100059116](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309100059116.png)

![image-20220309101512653](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309101512653.png)

![image-20220309101541744](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309101541744.png)

![image-20220309101620792](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309101620792.png)

![image-20220309101641334](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309101641334.png)

![image-20220309101715592](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309101715592.png)

![image-20220309103155576](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309103155576.png)

![image-20220309105054632](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309105054632.png)

![image-20220309103357263](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309103357263.png)

![image-20220309105154535](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309105154535.png)

![image-20220309103629662](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309103629662.png)

![image-20220309103834671](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309103834671.png)

![image-20220309103949005](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309103949005.png)

以上两种方法都可以将bean装到容器

自动装配：

![image-20220309104216722](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309104216722.png)![image-20220309104402934](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309104402934.png)

![image-20220309104334038](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309104334038.png)

![image-20220309104431790](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309104431790.png)

![image-20220309104454205](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309104454205.png)

![image-20220309104605931](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309104605931.png)

综上，主要是实现ImportSelector或ImportBeanDefinitionRegistrar

![image-20220309110035262](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309110035262.png)

![image-20220309110120189](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309110120189.png)

![image-20220309110412922](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309110412922.png)

![image-20220309110629060](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309110629060.png)

![image-20220309113749987](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309113749987.png)

![image-20220309114007627](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309114007627.png)

![image-20220309114058115](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309114058115.png)

![image-20220309114123648](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309114123648.png)

![image-20220309114156066](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309114156066.png)

![image-20220309114309970](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309114309970.png)

![image-20220309114656956](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309114656956.png)

![image-20220309115144790](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309115144790.png)

![image-20220309115216940](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309115216940.png)

![image-20220309115513844](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309115513844.png)

上面返回的String就是底下的字符串

![image-20220309115635594](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309115635594.png)

![image-20220309115809492](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309115809492.png)

SPI:在spring.factories里写上类似下面的会自动加载

```properties
org.springframework.boot.autoconfigure.EnableAutoConfiguration=
org.springframework.boot.autoconfigure.admin.SpringApplicationAdminJmxAutoConfiguration
```

条件注解：只有满足如下面的条件才会加载，否则也太多了

![image-20220309122024644](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309122024644.png)

![image-20220309122445133](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309122445133.png)

![image-20220309122848448](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309122848448.png)

![image-20220309123732972](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309123732972.png)

![image-20220309124010932](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309124010932.png)

![image-20220309124334892](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309124334892.png)

![image-20220309160205930](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309160205930.png)

![image-20220309170720256](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309170720256.png)

![image-20220309170751920](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309170751920.png)

![image-20220309170848876](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309170848876.png)

![image-20220309170919662](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309170919662.png)

![image-20220309170939476](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309170939476.png)

![image-20220309171012316](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309171012316.png)

![image-20220309171027124](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309171027124.png)

![image-20220309171038837](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309171038837.png)

![image-20220309171104686](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309171104686.png)

![image-20220309171145909](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309171145909.png)

![image-20220309171328250](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309171328250.png)

![image-20220309172346376](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309172346376.png)

![image-20220309172539600](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309172539600.png)

![image-20220309172942690](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309172942690.png)![image-20220309175945884](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309175945884.png)

![image-20220309175137584](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309175137584.png)

![image-20220309175338838](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309175338838.png)

![image-20220309175453378](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309175453378.png)![image-20220309180156818](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309180156818.png)

![image-20220309175824854](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309175824854.png)

![image-20220309175904932](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309175904932.png)

当自己配置的数据源与spring自带的冲突时，要么把自己的加上@Primary，要么排除掉spring的，其它如mybatis，本质上是一样的

![image-20220309180740328](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309180740328.png)![image-20220309192759552](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309192759552.png)

![image-20220309181022285](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309181022285.png)

![image-20220309181319376](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309181319376.png)

这样就能看更多信息

![image-20220309181357681](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309181357681.png)

![image-20220309181600862](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309181600862.png)

![image-20220309181619648](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309181619648.png)

![image-20220309181723999](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309181723999.png)

![image-20220309181911299](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309181911299.png)

jconsole跟刚才HTTP是一样的

基于JMX：https://zhuanlan.zhihu.com/p/166530442，一切监控工具都是基于JMX，如jconsole、jvisalVM、普罗米修斯![image-20220309182514711](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309182514711.png)

![image-20220309182559152](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309182559152.png)

![image-20220309190026193](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309190026193.png)

![image-20220309190102120](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309190102120.png)

![image-20220309190533871](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309190533871.png)

![image-20220309190834486](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309190834486.png)

![image-20220309191116112](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309191116112.png)

![image-20220309191244414](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309191244414.png)

把bean发送到里面，就能通过监控看到

![image-20220309191913973](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309191913973.png)

![image-20220309192037789](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309192037789.png)
