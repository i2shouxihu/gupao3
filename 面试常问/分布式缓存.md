## 本地缓存与分布式缓存：

1、Map作缓存，因为在缓存中，速度最快，但这是本地缓存 

```java
CategoryServiceImpl:

private Map<String,Object> cache = new HashMap<>();

 //如果缓存中有就用缓存的
         Map<String, List<Catelog2Vo>> catalogJson = (Map<String, List<Catelog2Vo>>) cache.get("catalogJson");
         if (cache.get("catalogJson") == null) {
             //调用业务，查数据库
            Map<String,List<Catelog2Vo>> parent_cid = ...
             //返回数据又放入缓存
             cache.put("catalogJon",parent_cid);
         }
```

什么是本地缓存：缓存组件（如上面代码中的cache）跟其它代码属于同一个进程，运行在同一个项目里面，在同一个JVM里面，只相当于在本地保存一个副本

![image-20220308192626781](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220308192626781.png)

如果是单体应用，永远部署在同一台机器，这样没问题，而且很快

![image-20220308203321454](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220308203321454.png)

问题：1、分布式的话，负载均衡到其它微服务，其它微服务没缓存，又要查数据库

2、其它微服务改了数据库，把缓存也顺便改了，但其它微服务缓存没改，出现数据一致性问题![image-20220308205026783](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220308205026783.png)

解决方法：不把缓存放到本地的进程里面，而是共享一个缓存中间件

装中间件的好处：如果一台redis缓存数据量不够或性能不足，可以做集群或者分片存储（如1号存1到10000号数据，2号存10000到20000数据），打破本地缓存的容量限制，维护简单，做到高可用，高性能

## 整合Redis:

![image-20220308214609510](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220308214609510.png)

![image-20220308214654947](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220308214654947.png)

![image-20220308214725475](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220308214725475.png)

![image-20220308214911701](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220308214911701.png)

![image-20220308215115059](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220308215115059.png)

![image-20220308215253899](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220308215253899.png)

![image-20220308215404933](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220308215404933.png)

![image-20220308215441161](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220308215441161.png)

![image-20220308215623826](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220308215623826.png)

![image-20220308215727834](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220308215727834.png)

![image-20220308215939399](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220308215939399.png)

![image-20220308220106757](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220308220106757.png)

## 改造三级分类：

![image-20220309193549529](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309193549529.png)

![image-20220309193709488](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309193709488.png)![image-20220309195040658](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309195040658.png)

![image-20220309194453042](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309194453042.png)

由上看出是受保护的，所以匿名内部类new TypeReference<Map<String, List<Catelog2Vo>>>(){}

![image-20220309194615435](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309194615435.png)

![image-20220309195136804](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309195136804.png)

由上看出，缓存中有，将缓存中的转为对象返回；缓存中没有，查数据库，将数据转为json存到缓存，同时返回对象

![image-20220309195439043](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309195439043.png)

## 压力测试出的内存泄露与解决：

![image-20220309195628630](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309195628630.png)

![image-20220309195642638](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309195642638.png)

![image-20220309195718767](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309195718767.png)

错误异常太多，快100%了

![image-20220309195902080](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309195902080.png)

netty是直接操作堆外内存的

![image-20220309200124221](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309200124221.png)

![image-20220309200226248](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309200226248.png)

![image-20220309200444556](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309200444556.png)

![image-20220309200644212](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309200644212.png)

![image-20220309201034064](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309201034064.png)

![image-20220309201247229](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309201247229.png)

![image-20220309201329838](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309201329838.png)

![image-20220309201346924](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309201346924.png)

![image-20220309201419349](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309201419349.png)

![image-20220309201530852](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309201530852.png)

![image-20220309201546221](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309201546221.png)

堆外内存就是直接内存，Direct memory，原因是内存没释放，可以调大，但最终会溢出

![image-20220309201742852](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309201742852.png)

lettuce吞吐量比jedis极大，lettuce用netty

![image-20220309202145143](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309202145143.png)

原来吞吐量100，加入缓存后现在变400

![image-20220309202521445](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309202521445.png)

![image-20220309202706661](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309202706661.png)

RedisTemplate底层有这两个，用法一样

![image-20220309202744515](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309202744515.png)

![image-20220309202820097](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309202820097.png)

![image-20220309202847771](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309202847771.png)

## 缓存击穿、穿透、雪崩：

![image-20220309203033020](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309203033020.png)

加入短暂过期时间的原因是：如果数据库以后有这个数据，但是缓存中存的还是没有，所以加个过期时间，再去查下

![image-20220309203650987](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309203650987.png)

![image-20220309203823908](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309203823908.png)

![image-20220309204055513](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309204055513.png)

![image-20220309204243219](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309204243219.png)

## 加锁解决缓存击穿问题：

![image-20220309212044622](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309212044622.png)

![image-20220309212531895](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309212531895.png)

![image-20220309212628435](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309212628435.png)

![image-20220309212836824](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309212836824.png)

上面加锁在单体应用中没毛病，但是在分布式中不行

![image-20220309213018068](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309213018068.png)

如上面，还是进来了8个线程，而不是一个线程

分布式锁缺点：性能比本地锁低、慢，

本地锁缺点：锁不住分布式下所有的服务，但是也可以使用，如1000000个并发进来100个，也是可以承受的，数据库压力也不大，锁也不重量级。本地锁如synchronized,JUC的各种锁，是进程锁，只锁本地进程的资源，去jvisualvm看，一个服务对应一个完整的进程，连接上进程，能观察它的线程以及内存等等

![image-20220309213819926](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309213819926.png)

![image-20220309214952250](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309214952250.png)

上面出现两次查数据库的原因是：1号线程还没将结果放入缓存，2号线程就进来了，解决方法是结果放入缓存也加锁，确保查数据库和查完之后放缓存是原子操作，在同一把锁里进行，否则会导致锁的时序问题，导致查两次数据库

![image-20220309215151579](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309215151579.png)

![image-20220309215311023](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309215311023.png)

## 本地锁在分布式下的问题：

![image-20220309215657267](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309215657267.png)

![image-20220309215935981](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309215935981.png)

![image-20220309215959517](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309215959517.png)

![image-20220309220023432](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309220023432.png)

![image-20220309220207194](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309220207194.png)

![image-20220309220439179](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309220439179.png)

![image-20220309220522104](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309220522104.png)

![image-20220309220658986](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309220658986.png)

![image-20220309220745312](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309220745312.png)

上面证明本地锁只能锁当前进程，所以需要分布式锁

## 分布式锁原理与使用：

![image-20220309221147017](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309221147017.png)

![image-20220309221247248](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309221247248.png)

![image-20220309221500824](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309221500824.png)

在Redis里set失败，即认为占锁失败！

![image-20220309221725506](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309221725506.png)

![image-20220309225237851](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309225237851.png)

![image-20220309225850807](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309225850807.png)

![image-20220309225931967](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309225931967.png)

![image-20220309230155491](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309230155491.png)

![image-20220309230408574](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309230408574.png)

![image-20220309230431410](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309230431410.png)

![image-20220309230550298](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309230550298.png)

![image-20220309231742768](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309231742768.png)

![image-20220309231843136](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309231843136.png)

![image-20220309231941440](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309231941440.png)

![image-20220309232113594](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309232113594.png)

![image-20220309232353062](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309232353062.png)

![image-20220309232524964](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309232524964.png)

![image-20220309232818728](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309232818728.png)

![image-20220309232905088](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309232905088.png)

最严重的问题：解锁失败会导致死锁。解决方法：设置过期时间

![image-20220309233134670](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309233134670.png)

![image-20220309233252381](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309233252381.png)

但是这样也有问题：如果还没设置过期时间就宕机了怎么办？

![image-20220309233836961](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309233836961.png)

解决方法是：获取锁和设置过期时间是原子操作

![image-20220309234013828](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309234013828.png)

![image-20220309234132929](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309234132929.png)

![image-20220309234158901](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309234158901.png)

![image-20220309234233953](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309234233953.png)

问题：业务超时怎么办？业务超时还没删除锁，结果锁时间过期，自己把锁删了，导致其它请求进来，结果删除锁时删除的是别人的锁

![image-20220309234646044](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309234646044.png)

上面可以用uuid解决，但用uuid也有问题：去redis查时回来路上花费时间太长，导致uuid虽然正确，但redis已经过期，已经被其它请求改了值，这时删除锁删除的是别人的锁，这时别人又进来，相当于没锁住，里面好几个人。

上述问题删除锁和加锁一样，![image-20220309235206024](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309235206024.png)不是原子操作就会导致上述问题，解决用Lua脚本

![image-20220309235256609](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309235256609.png)

![image-20220309235356291](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309235356291.png)

![image-20220309235426404](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309235426404.png)

![image-20220309235505882](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309235505882.png)

![image-20220309235721118](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309235721118.png)

![image-20220309235739885](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309235739885.png)

![image-20220309235910535](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220309235910535.png)

![image-20220310000002629](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220310000002629.png)

![image-20220310000022900](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220310000022900.png)

![image-20220310000206766](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220310000206766.png)

![image-20220310000341668](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220310000341668.png)

更难的问题：锁的自动续期，如果业务时间超长，锁过期了怎么办？

解决：给锁时间设置长一点，同时把解锁放入finally

![image-20220310000615926](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220310000615926.png)

![image-20220310000938163](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220310000938163.png)

![image-20220310001006789](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220310001006789.png)

为免于无限次调用导致执行异常，还是睡上200ms

![image-20220310001207334](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220310001207334.png)

![image-20220310001330684](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220310001330684.png)

![image-20220310001526517](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220310001526517.png)

每次用脚本太麻烦了，有专门的工具类

## Redisson简介&整合：

JUC包下的锁和synchronized都是本地锁

![image-20220310091210235](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220310091210235.png)

![image-20220310091308309](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220310091308309.png)

![image-20220310091318117](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220310091318117.png)

![image-20220310091339635](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220310091339635.png)

在以后的项目中，就使用Redisson完整实现分布式锁功能

![image-20220310091445792](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220310091445792.png)

![image-20220310091534391](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220310091534391.png)

原来用Map、Set等只能在当前对象、当前服务，现在上面的都可以在Redis中分布式操作

![image-20220310091729890](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220310091729890.png)

![image-20220310092359044](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220310092359044.png)

![image-20220310092520051](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220310092520051.png)

![image-20220310092638079](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220310092638079.png)

![image-20220310092956850](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220310092956850.png)

![image-20220310093116073](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220310093116073.png)

![image-20220310093202649](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220310093202649.png)

![image-20220310093218843](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220310093218843.png)

![image-20220310093238915](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220310093238915.png)

## Redisson-lock锁测试：

可重入锁：A方法里有B方法，A方法里设置了一把锁，B方法里也想用这把锁，直接拿来用就行了。如果不是可重入锁，A不释放B就用不了，就会死锁。所以为避免死锁，所有的锁都应设置为可重入锁。

![image-20220310094334439](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220310094334439.png)

![image-20220310094413549](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220310094413549.png)

![image-20220310094508591](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220310094508591.png)

![image-20220310094556977](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220310094556977.png)

![image-20220310094727324](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220310094727324.png)

![image-20220310094814260](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220310094814260.png)

自旋就是一直重试，无限调用。阻塞式等待是一直等着，直到拿到。

![image-20220310095035479](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220310095035479.png)

![image-20220310095127336](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220310095127336.png)

![image-20220310095142289](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220310095142289.png)

![image-20220310095230122](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220310095230122.png)

![image-20220310095724378](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220310095724378.png)

![image-20220310095749080](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220310095749080.png)

![image-20220310095850977](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220310095850977.png)

用while不断尝试获取锁，获取到继续执行业务，获取不到继续尝试

## Redisson-lock看门狗原理-redisson如何解决死锁

![image-20220312223424667](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220312223424667.png)

![image-20220312223501583](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220312223501583.png)

![image-20220312223605076](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220312223605076.png)

![image-20220312223725227](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220312223725227.png)

10S后删的锁不是当前线程的，是别的线程的

![image-20220312223906759](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220312223906759.png)

![image-20220312223948031](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220312223948031.png)

![image-20220312224031264](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220312224031264.png)

![image-20220312224049474](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220312224049474.png)

![image-20220312224125122](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220312224125122.png)

![image-20220312224211448](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220312224211448.png)

![image-20220312224238682](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220312224238682.png)

传了用自己的，不传用-1

![image-20220312224319810](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220312224319810.png)

![image-20220312224419755](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220312224419755.png)

![image-20220312224615760](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220312224615760.png)

![image-20220312224636649](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220312224636649.png)

![image-20220312224704815](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220312224704815.png)

![image-20220312224720313](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220312224720313.png)

![image-20220312225009562](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220312225009562.png)

![image-20220312225108922](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220312225108922.png)

![image-20220312225157683](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220312225157683.png)

![image-20220312225257088](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220312225257088.png)

![image-20220312225323425](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220312225323425.png)

![image-20220312225345460](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220312225345460.png)

![image-20220312225400231](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220312225400231.png)

![image-20220312225456009](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220312225456009.png)

![image-20220312225612111](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220312225612111.png)

![image-20220312225702916](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220312225702916.png)

![image-20220312225748842](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220312225748842.png)

![image-20220312225856885](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220312225856885.png)

![image-20220312230008805](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220312230008805.png)

![image-20220312230046127](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220312230046127.png)

![image-20220312230151637](C:\Users\kgliu\AppData\Roaming\Typora\typora-user-images\image-20220312230151637.png)

